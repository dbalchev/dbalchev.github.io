<html ng-app="7wc">
  <head>
    <title>7wc</title>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.4/angular.min.js"></script>
    <script>
var myApp = angular.module("7wc", []);
myApp.controller("scoreboard", function($scope) {
  $scope.scoreRows = ["war", "money","wonders", "building", "trade", "guides", "science"];
  $scope.scoreNames = {
    "war":"Война",
    "money":"Пари",
    "wonders":"Чудеса",
    "building":"Сгради",
    "trade":"Търговия",
    "guides":"Гилдии",
    "science":"Наука"
  };
  $scope.players= [];
  var total = function() {
    var result = 0;
    for(var score in $scope.scoreRows)
      result += Number.parseInt(this[$scope.scoreRows[score]]) || 0;
    return result
  }
  $scope.addPlayer = function(name) {
    var newPlayer = {name:name, total:total};
    for(var score in $scope.scoreRows)
      newPlayer[$scope.scoreRows[score]] = "";
    $scope.players.push(newPlayer);
  }
  
});
myApp.controller("player-add", function($scope) {
  $scope.newPlayerName = "";
  $scope.addPlayer = function() {
    $scope.$parent.addPlayer($scope.newPlayerName);
    $scope.newPlayerName = "";
  }
});
    </script>
  </head>
  <body>
  <div ng-controller="scoreboard">
    <div ng-controller="player-add">
      <input type="text" ng-model="newPlayerName">
      <input type="button" ng-click="addPlayer()" value="add">
    </div>
    <table>
      <tr>
        <th></th>
        <th ng-repeat="player in players">
          <input type="text" ng-model="player.name">
        </th>
      </tr>
      <tr ng-repeat="scoreRow in scoreRows">
        <td>
          {{scoreNames[scoreRow]}}
        </td>
        <td ng-repeat="player in players">
          <input type="number" ng-model="player[scoreRow]">
        </td>
      </tr>
      <tr>
        <td></td>
        <td ng-repeat="player in players">
          {{player.total()}}
        </td>
      </tr>
    </table>
  </div>
  </body>
</html>
